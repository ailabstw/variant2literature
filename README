Prerequisites
====================================================================================
Linux OS
Docker 18.09.0 or higher
CUDA 8.0 or higher
nvidia-docker



Data Preparation
====================================================================================
CRF++:
download CRF++.0.58.tar.gz from https://taku910.github.io/crfpp/
put CRF++.0.58.tar.gz in variant2literature/

download following files and put them in variant2literature/models/

FasterRCNN model:
https://www.dropbox.com/s/g980k8hpqj1q8cn/faster_rcnn.pth

UCSC tables (hg19):
http://hgdownload.cse.ucsc.edu/goldenpath/hg19/database/ncbiRefSeq.txt.gz
http://hgdownload.cse.ucsc.edu/goldenpath/hg19/database/ensGene.txt.gz
http://hgdownload.cse.ucsc.edu/goldenpath/hg19/database/knownGene.txt.gz
http://hgdownload.cse.ucsc.edu/goldenpath/hg19/database/kgAlias.txt.gz
http://hgdownload.cse.ucsc.edu/goldenpath/hg19/database/ensemblToGeneName.txt.gz
http://hgdownload.cse.ucsc.edu/goldenpath/hg19/database/snp150.txt.gz

NCBI gene_info:
ftp://ftp.ncbi.nih.gov/gene/DATA/GENE_INFO/Mammalia/Homo_sapiens.gene_info.gz
ftp://ftp.ncbi.nlm.nih.gov/gene/DATA/gene2refseq.gz

ucsc.hg19.fasta:
download from ucsc and convert it to fasta format or download from GATK bundle and decompress it
rename it to ucsc.hg19.fasta (if the filename is not ucsc.hg19.fasta)

tmVar:
download tmvar2.0 from https://www.ncbi.nlm.nih.gov/research/bionlp/Tools/tmvar/
copy `tmVarJava/CRF/MentionExtractionUB.Model` to variant2literature/models/

GNormPlus
download GNormPlus from https://www.ncbi.nlm.nih.gov/research/bionlp/Tools/gnormplus/
copy `GNormPlusJava/Dictionary/GNR.Model` to variant2literature/models/ and
copy `GNormPlusJava/Dictionary/PT_CTDGene.txt` to variant2literature/models/



Preparation
====================================================================================
build docker image by `make build`
compile fasterRCNN by `make compile`

start docker container by `make run`
start mysql docker container by `make run-db`

load data into database by `make load-db` (run only once unless MYSQL_VOLUME is changed)



Index Papers
====================================================================================
put paper directories in input/
run `make index`

query by `make query` or `make query OUTPUT_FILE=output.txt`



Stop and Remove Docker Container
====================================================================================
run `make rm`
run `make rm-db`



Delete indexes
====================================================================================
run `make truncate`
